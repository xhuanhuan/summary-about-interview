### 功能介绍
这个作品,实现了题目的要求：
1. 设置密码,密码长度不能小于5,两次密码设置的顺序以及数量相同才算设置成功,并存储到 localStorage ;
2. 验证密码,将用户的输入同 localStorage 中的密码进行对比,一致便进行相关提示,错误也进行错误提示并具有颜色修改作为提醒.

### 设计思路
主程序中,大致流程如下：
1. 初始化 canvas ,画密码圆,获取画布初始位置;
2. 绑定 touchstart , touchmove , touchend 事件;
3. 模式选择 checkbox 的 click 事件绑定,委托在其父元素上.

#### touch系列事件
其中, touchstart , touchmove , touchend 事件是本程序的核心代码,该事件内部的流程大致如下:
1. touchstart:
    1. check模式下只使用了 password1 ,将其清空;
    2. set模式下,首先判断是否为第一次输入,是则清空 password1 password2 ,否则只清空 password2 ;
2. touchmove:
    1. 获取最新的用户鼠标位置,跟 canvas 初始位置相减,得到实际画布中的位置;
    2. 判断用户手指是否落入之前没有触摸过的圆之中,如果落入,将其加入用户触摸轨迹中;
    3. 清除画布,画初始圆;
    4. 根据用户之前的触摸轨迹画出对应的实心圆作为提示;
    5. 根据用户之前的触摸轨迹和当前坐标绘制线条.
3. touchend:
    1. 模式判断以及密码对比,来进行下一步的不同提示及操作;
    2. 清空画布,画初始圆点,根据用户轨迹直接绘制实心圆和线条;
    3. 根据相应的模式进行判断并修改颜色进行相应的提示;
    4. 正常延时 500ms 左右进行清除画布,画初始圆点,出错或成功时延时 1000ms ;
    5. 还原状态变量 first .

#### checkbox判断
checkbox的选择直接决定着touchend事件中的判决条件,为了进行一个状态控制,我设置了下面这几个变量来做为状态的一个表示:
1. model: set || check ( 默认 ) ,设置密码或者校验密码;
2. first: true || false ,表示是否是第一次设置密码;

#### canvas绘制
1. draw_circle1:画初始9个空心圆 ( stroke ) ;
2. draw_circle2:根据用户轨迹绘制实心圆 ( fill ) ;
3. draw_line:   根据用户轨迹以及当前位置绘制用户轨迹线.

### 性能优化：节流函数的使用
由于 touchmove 事件的频繁触发,其实是对页面的流畅度有一定的影响,我在这里采用了函数节流的思想：定期执行 touchmove 事件.
在节流中,我将这个时间段设置在50ms左右的时候,人眼是察觉不到区别的,通过控制台的输出,可以看到:
1. 节流前,用户以一定的速度绘制一个轨迹,大约触发 150 次左右的 touchmove 事件;
2. 节流后,用户以大致相同的速度绘制同样的轨迹,大约触发 40 次左右的 touchmove 事件;
虽然在两者优化前后用户的体验没有多少区别,但是 canvas 的重新绘制以及用户轨迹的绘制的次数的减少,势必能在一定程度上优化网页的性能.

### 个人感想
这次的题目刚看到的时候觉得不难,后来仔细一想,用户轨迹线条的绘制,似乎要用到canvas才能实现,并没有想象中的那么容易.
通过对touch系列事件的设置完成用户触摸位置的监控进而完成轨迹的绘制,整个实现过程并不是很难,但是中间一些细节,状态以及整个流程的控制还是有一定的难度,个人也是花费了一定的时间才完成了本次的作业.
最后,很感谢你们公司精心准备的试题,可以看出来你们公司对实习生的筛选还是很严格的,很喜欢这样的做事方式,希望能够加入贵公司
